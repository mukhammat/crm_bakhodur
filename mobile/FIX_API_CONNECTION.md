# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API –Ω–∞ Android

## –ü—Ä–æ–±–ª–µ–º–∞
APK –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞.

## –†–µ—à–µ–Ω–∏—è

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –û–±–Ω–æ–≤–∏—Ç—å CORS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–£–ñ–ï –ò–°–ü–†–ê–í–õ–ï–ù–û)

–Ø –æ–±–Ω–æ–≤–∏–ª —Ñ–∞–π–ª `src/infrastructure/http/app.ts` - —Ç–µ–ø–µ—Ä—å —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ APK —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –∫–æ–¥–æ–º

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://45.63.43.62:3322`:

1. **–° –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞:
   ```
   http://45.63.43.62:3322/api/auth/login
   ```
   
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON –æ—Ç–≤–µ—Ç (–¥–∞–∂–µ –µ—Å–ª–∏ –æ—à–∏–±–∫–∞, –≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª** - –ø–æ—Ä—Ç 3322 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production)

–î–ª—è production –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS:

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ `mobile/src/config/api.ts`:
   ```typescript
   export const API_BASE_URL = 'https://your-domain.com/api';
   ```
3. –û–±–Ω–æ–≤–∏—Ç–µ CORS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è HTTPS –¥–æ–º–µ–Ω–∞

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ - –≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø—Ä–æ—Å—ã –¥–æ—Ö–æ–¥—è—Ç, –Ω–æ –µ—Å—Ç—å –æ—à–∏–±–∫–∏:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f logs/error.log
```

---

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –®–∞–≥ 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
npm run dev
# –∏–ª–∏
pm2 restart your-server
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞
–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ:
```
http://45.63.43.62:3322/api/auth/login
```

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ APK
```bash
cd mobile
eas build --platform android --profile preview
```

---

## –û—Ç–ª–∞–¥–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `mobile/src/lib/api.ts` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

```typescript
// –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ ApiClient –¥–æ–±–∞–≤—å—Ç–µ:
this.client.interceptors.request.use(async (config) => {
  console.log('Request:', config.method, config.url);
  // ...
});

this.client.interceptors.response.use(
  (response) => {
    console.log('Response:', response.status, response.data);
    return response;
  },
  (error) => {
    console.error('Error:', error.message, error.response?.data);
    // ...
  }
);
```

–ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —á–µ—Ä–µ–∑:
- `adb logcat` (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ USB)
- –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ Alert –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–æ–∫

---

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–°–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Å –º–æ–±–∏–ª—å–Ω–æ–≥–æ** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª –∏ —Å–µ—Ç—å
2. **CORS –±–ª–æ–∫–∏—Ä—É–µ—Ç** - —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∫–æ–¥–µ
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `src/config/api.ts`
4. **–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω** - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ APK: `eas build --platform android --profile preview`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–π APK –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É


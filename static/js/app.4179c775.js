(function(){"use strict";var e={1145:function(e,t,a){var l=a(5130),s=a(6768),n=a(144),o=a(1387),r={__name:"AppHeader",setup(e){return(e,t)=>{const a=(0,s.g2)("v-toolbar-title"),l=(0,s.g2)("v-spacer"),n=(0,s.g2)("v-btn"),o=(0,s.g2)("v-icon"),r=(0,s.g2)("v-app-bar");return(0,s.uX)(),(0,s.Wv)(r,{app:"",color:"primary",dark:""},{default:(0,s.k6)(()=>[(0,s.bF)(a,null,{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.eW)("ðŸš€ MyApp",-1)])]),_:1}),(0,s.bF)(l),(0,s.bF)(n,{text:""},{default:(0,s.k6)(()=>[...t[1]||(t[1]=[(0,s.eW)("Ð“Ð»Ð°Ð²Ð½Ð°Ñ",-1)])]),_:1}),(0,s.bF)(n,{text:""},{default:(0,s.k6)(()=>[...t[2]||(t[2]=[(0,s.eW)("Ð—Ð°Ð´Ð°Ñ‡Ð¸",-1)])]),_:1}),(0,s.bF)(n,{text:""},{default:(0,s.k6)(()=>[...t[3]||(t[3]=[(0,s.eW)("Ðž Ð½Ð°Ñ",-1)])]),_:1}),(0,s.bF)(n,{icon:""},{default:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...t[4]||(t[4]=[(0,s.eW)("mdi-account-circle",-1)])]),_:1})]),_:1})]),_:1})}}},u=a(1241);const i=(0,u.A)(r,[["__scopeId","data-v-4594a976"]]);var c=i,d={__name:"App",setup(e){const t=(0,o.lq)();return(e,a)=>{const l=(0,s.g2)("router-view"),o=(0,s.g2)("v-main"),r=(0,s.g2)("v-app");return(0,s.uX)(),(0,s.Wv)(r,null,{default:(0,s.k6)(()=>[(0,n.R1)(t).meta.hideHeader?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(c,{key:0})),(0,s.bF)(o,null,{default:(0,s.k6)(()=>[(0,s.bF)(l)]),_:1})]),_:1})}}};const v=d;var k=v,m=a(4232),f={__name:"DashboardPage",setup(e){const t={completed:120,inProgress:15,pending:40,points:5800},a=[{title:"Ð˜Ð¼Ñ",key:"name"},{title:"Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾ Ð·Ð°Ð´Ð°Ñ‡",key:"tasksCompleted"},{title:"Ð‘Ð°Ð»Ð»Ñ‹",key:"points"}],l=[{name:"Ð˜Ð²Ð°Ð½",tasksCompleted:50,points:1200},{name:"ÐÐ½Ð½Ð°",tasksCompleted:45,points:1100},{name:"ÐžÐ»ÐµÐ³",tasksCompleted:30,points:700}];return(e,n)=>{const o=(0,s.g2)("v-card-title"),r=(0,s.g2)("v-card-text"),u=(0,s.g2)("v-card"),i=(0,s.g2)("v-col"),c=(0,s.g2)("v-row"),d=(0,s.g2)("v-data-table"),v=(0,s.g2)("v-container");return(0,s.uX)(),(0,s.Wv)(v,null,{default:(0,s.k6)(()=>[(0,s.bF)(c,null,{default:(0,s.k6)(()=>[(0,s.bF)(i,{cols:"12",md:"3"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...n[0]||(n[0]=[(0,s.eW)("Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾ Ð·Ð°Ð´Ð°Ñ‡",-1)])]),_:1}),(0,s.bF)(r,{class:"text-h4"},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(t.completed),1)]),_:1})]),_:1})]),_:1}),(0,s.bF)(i,{cols:"12",md:"3"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...n[1]||(n[1]=[(0,s.eW)("Ð’ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ",-1)])]),_:1}),(0,s.bF)(r,{class:"text-h4"},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(t.inProgress),1)]),_:1})]),_:1})]),_:1}),(0,s.bF)(i,{cols:"12",md:"3"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...n[2]||(n[2]=[(0,s.eW)("ÐžÐ¶Ð¸Ð´Ð°ÑŽÑ‚",-1)])]),_:1}),(0,s.bF)(r,{class:"text-h4"},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(t.pending),1)]),_:1})]),_:1})]),_:1}),(0,s.bF)(i,{cols:"12",md:"3"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...n[3]||(n[3]=[(0,s.eW)("Ð¡ÑƒÐ¼Ð¼Ð° Ð±Ð°Ð»Ð»Ð¾Ð²",-1)])]),_:1}),(0,s.bF)(r,{class:"text-h4"},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(t.points),1)]),_:1})]),_:1})]),_:1})]),_:1}),(0,s.bF)(c,null,{default:(0,s.k6)(()=>[(0,s.bF)(i,{cols:"12",md:"6"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...n[4]||(n[4]=[(0,s.eW)("Ð—Ð°Ð´Ð°Ñ‡Ð¸ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ",-1)])]),_:1}),(0,s.bF)(r,null,{default:(0,s.k6)(()=>[...n[5]||(n[5]=[(0,s.Lk)("div",{class:"text-center"},"[Ð”Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð°]",-1)])]),_:1})]),_:1})]),_:1}),(0,s.bF)(i,{cols:"12",md:"6"},{default:(0,s.k6)(()=>[(0,s.bF)(u,null,{default:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...n[6]||(n[6]=[(0,s.eW)("Ð¢Ð¾Ð¿ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð²",-1)])]),_:1}),(0,s.bF)(d,{headers:a,items:l})]),_:1})]),_:1})]),_:1})]),_:1})}}};const p=f;var g=p,b=a(1114);a(4603),a(7566),a(8721);class h{static async request(e,t){return(new h).request(e,t)}async request(e,t){const a="Content-Type",l={};let s=t.body;if(t.bodyType)switch(t.bodyType){case"HTML":l[a]="text/html";break;case"JS":l[a]="application/javascript";break;case"JSON":l[a]="application/json",s=JSON.stringify(t.body);break;case"Text":l[a]="application/plain";break;case"XML":l[a]="application/xml";break;default:l[a]=t.bodyType;break}else"object"===typeof t.body&&(l["Content-Type"]="application/json",s=JSON.stringify(t.body));try{const a=await fetch(e,{method:t.method,headers:{...l,...t.headers},body:s});if(!a.ok)throw new Error(a?.message||`ÐžÑˆÐ¸Ð±ÐºÐ° ${a.status}`);return a}catch(n){throw console.log(n?.message),n}}}var _=a(2261);const y="http://localhost:3000",F=(0,_.nY)("auth",{state:()=>({user:null,token:localStorage.getItem("token")||null}),getters:{role:e=>e.user?.role||null,isAuthenticated:e=>!!e.token},actions:{async login({email:e,password:t}){const a=await fetch(`${y}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw new Error("ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð»Ð¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ");const{data:l}=await a.json();this.token=l.token,localStorage.setItem("token",this.token),await this.fetchMe()},async register(e){const t=await fetch(`${y}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸");return console.log(await t.json()),(await t.json()).data.userId},async fetchMe(){if(!this.token)return;const e=await fetch(`${y}/api/users/me`,{headers:{Authorization:`Bearer ${this.token}`}});if(!e.ok)throw this.logout(),new Error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ");const{data:t}=await e.json();this.user=t},logout(){this.user=null,this.token=null,localStorage.removeItem("token")}}});class w{constructor(){(0,b.A)(this,"SERVER","http://localhost:3000")}get headers(){return this.auth=F(),{Authorization:this.auth.token?`Bearer ${this.auth.token}`:""}}async add(e){return h.request(`${this.SERVER}/api/tasks`,{method:"POST",headers:this.headers,body:e})}async removeAssignment(e){return h.request(`${this.SERVER}/api/tasks/unassign-task-from-worker/${e}`,{method:"DELETE",headers:this.headers})}async edit(e,t){return h.request(`${this.SERVER}/api/tasks/${e}`,{method:"PUT",headers:this.headers,body:t})}async delete(e){return h.request(`${this.SERVER}/api/tasks/${e}`,{method:"DELETE",headers:this.headers})}async assignUser(e){return h.request(`${this.SERVER}/api/tasks/assign-task-worker`,{method:"POST",headers:this.headers,body:e})}async getAll(e={}){const t=new URLSearchParams(e).toString();return h.request(`${this.SERVER}/api/tasks${t?`?${t}`:""}`,{headers:this.headers})}}const W=new w;var E={__name:"TaskForm",props:{getTasks:Function},setup(e){const t=(0,n.KR)({title:"",description:""}),a=e,l=a.getTasks,o=(0,n.KR)(!1),r=(0,n.KR)(!1);async function u(){if(t.value.title&&t.value.description)try{r.value=!0;const e=await W.add(t.value);e.ok&&(i(),await l())}finally{r.value=!1}}function i(){o.value=!1,t.value={title:"",description:""}}return(e,a)=>{const c=(0,s.g2)("v-btn"),d=(0,s.g2)("v-card-title"),v=(0,s.g2)("v-row"),k=(0,s.g2)("v-text-field"),m=(0,s.g2)("v-card-text"),f=(0,s.g2)("v-spacer"),p=(0,s.g2)("v-card-actions"),g=(0,s.g2)("v-card"),b=(0,s.g2)("v-dialog"),h=(0,s.g2)("v-container");return(0,s.uX)(),(0,s.Wv)(h,null,{default:(0,s.k6)(()=>[(0,s.bF)(v,{justify:"center"},{default:(0,s.k6)(()=>[(0,s.bF)(d,null,{default:(0,s.k6)(()=>[(0,s.bF)(c,{color:"primary",onClick:(0,n.R1)(l),class:"mr-2"},{default:(0,s.k6)(()=>[...a[4]||(a[4]=[(0,s.eW)("ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(c,{color:"success",onClick:a[0]||(a[0]=e=>o.value=!0)},{default:(0,s.k6)(()=>[...a[5]||(a[5]=[(0,s.eW)("Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ",-1)])]),_:1})]),_:1})]),_:1}),(0,s.bF)(b,{modelValue:o.value,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value=e),"max-width":"500px"},{default:(0,s.k6)(()=>[(0,s.bF)(g,null,{default:(0,s.k6)(()=>[(0,s.bF)(d,null,{default:(0,s.k6)(()=>[...a[6]||(a[6]=[(0,s.eW)("Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ",-1)])]),_:1}),(0,s.bF)(m,null,{default:(0,s.k6)(()=>[(0,s.bF)(k,{modelValue:t.value.title,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.title=e),label:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ",required:""},null,8,["modelValue"]),(0,s.bF)(k,{modelValue:t.value.description,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.description=e),label:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ",required:""},null,8,["modelValue"])]),_:1}),(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.bF)(f),(0,s.bF)(c,{text:"",onClick:i},{default:(0,s.k6)(()=>[...a[7]||(a[7]=[(0,s.eW)("ÐžÑ‚Ð¼ÐµÐ½Ð°",-1)])]),_:1}),(0,s.bF)(c,{color:"success",onClick:u,loading:r.value},{default:(0,s.k6)(()=>[...a[8]||(a[8]=[(0,s.eW)(" Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};const V=E;var R=V;a(4114),a(8111),a(2489),a(1701);class x{constructor(){(0,b.A)(this,"SERVER","http://localhost:3000")}get headers(){return this.auth=F(),{Authorization:this.auth.token?`Bearer ${this.auth.token}`:""}}async me(){return h.request(`${this.SERVER}/api/user/me`,{method:"GET",headers:this.headers})}async getAll(){return h.request(`${this.SERVER}/api/users`,{method:"GET",headers:this.headers})}async delete(e){return h.request(`${this.SERVER}/api/users/${e}`,{method:"DELETE",headers:this.headers})}}const S=new x,T={class:"d-flex ga-2"},C={key:1,class:"text-grey text-caption align-self-center ml-2"};var $={__name:"TaskList",props:{tasks:Array,getTasks:Function},setup(e){const t=[{label:"ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚",value:"pending"},{label:"Ð’ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ",value:"in_progress"},{label:"Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾",value:"completed"}],a=e,l=(0,n.lW)(a,"tasks"),o=a.getTasks,r=(0,n.KR)([]),u=(0,n.KR)([]),i=(0,n.KR)(!1),c=(0,n.KR)(!1),d=(0,n.KR)(null),v=(0,n.KR)(!1);async function k(){try{v.value=!0;const e=await S.getAll(),t=await e.json();console.log("Users loaded:",t.data.users),r.value=t.data.users}catch(e){console.error("Error fetching users:",e)}finally{v.value=!1}}(0,s.sV)(k);const f=[{title:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ",key:"title"},{title:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ",key:"description"},{title:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ",key:"status"},{title:"ÐžÑ‚",key:"createdBy.name"},{title:"ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸",key:"assignments.worker"},{title:"Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ",key:"actions",sortable:!1}];function p(e){console.log("Opening edit dialog for task:",e),console.log("Task assignments:",e.assignments),d.value={...e,workerIds:e.assignments?.map(e=>e.userId)||[]},console.log("Selected worker IDs:",d.value.workerIds),i.value=!0}function g(){i.value=!1,d.value=null}function b(e){d.value.workerIds=d.value.workerIds.filter(t=>t!==e)}async function h(e,t){try{for(const e of t){const t=await W.removeAssignment(e.id);t.ok||console.error(`ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ ${e.id}:`,await t.text())}}catch(a){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹:",a),a}}async function _(){if(d.value.title&&d.value.description&&d.value.status)try{c.value=!0;const e=await W.edit(d.value.id,{title:d.value.title,description:d.value.description,status:d.value.status});if(!e.ok)throw new Error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð¸");d.value.assignments&&d.value.assignments.length>0&&await h(d.value.id,d.value.assignments);for(const t of d.value.workerIds){const e=await W.assignUser({taskId:d.value.id,userId:t});e.ok||console.error(`ÐžÑˆÐ¸Ð±ÐºÐ° Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ ${t}:`,await e.text())}await o(),g()}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ð¸:",e)}finally{c.value=!1}}async function y(e){try{u.value.push(e),await W.delete(e),await o(),l.value=l.value.filter(t=>t.id!==e)}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸:",t)}finally{u.value=u.value.filter(t=>t!==e)}}function F(e){switch(e){case"admin":return"red";case"manager":return"blue";case"worker":return"green";default:return"grey"}}function w(e){switch(e){case"completed":return"green";case"in_progress":return"blue";case"pending":return"orange";default:return"grey"}}function E(e){switch(e){case"completed":return"Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾";case"in_progress":return"Ð’ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ";case"pending":return"ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚";default:return e}}return(e,a)=>{const n=(0,s.g2)("v-btn"),o=(0,s.g2)("v-list-item-title"),k=(0,s.g2)("v-list-item"),h=(0,s.g2)("v-list"),W=(0,s.g2)("v-menu"),V=(0,s.g2)("v-chip"),R=(0,s.g2)("v-data-table"),x=(0,s.g2)("v-card"),S=(0,s.g2)("v-col"),$=(0,s.g2)("v-row"),j=(0,s.g2)("v-card-title"),O=(0,s.g2)("v-text-field"),A=(0,s.g2)("v-textarea"),U=(0,s.g2)("v-select"),I=(0,s.g2)("v-icon"),X=(0,s.g2)("v-avatar"),q=(0,s.g2)("v-alert"),K=(0,s.g2)("v-card-text"),P=(0,s.g2)("v-spacer"),L=(0,s.g2)("v-card-actions"),z=(0,s.g2)("v-dialog"),M=(0,s.g2)("v-container");return(0,s.uX)(),(0,s.Wv)(M,null,{default:(0,s.k6)(()=>[(0,s.bF)($,{justify:"center"},{default:(0,s.k6)(()=>[(0,s.bF)(S,{cols:"12",md:"10"},{default:(0,s.k6)(()=>[(0,s.bF)(x,null,{default:(0,s.k6)(()=>[(0,s.bF)(R,{headers:f,items:l.value,"item-key":"id",class:"elevation-1"},{"item.title":(0,s.k6)(({item:e})=>[(0,s.eW)((0,m.v_)(e.title),1)]),"item.description":(0,s.k6)(({item:e})=>[(0,s.eW)((0,m.v_)(e.description),1)]),"item.assignments.worker":(0,s.k6)(({item:e})=>[(0,s.bF)(W,null,{activator:(0,s.k6)(({props:t})=>[(0,s.bF)(n,(0,s.v6)(t,{color:"green",size:"small"}),{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(0===e.assignments.length?"ÐÐµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½":e.assignments[0]?.user?.name+"..."),1)]),_:2},1040)]),default:(0,s.k6)(()=>[(0,s.bF)(h,null,{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.assignments,(e,t)=>((0,s.uX)(),(0,s.Wv)(k,{key:t},{default:(0,s.k6)(()=>[(0,s.bF)(o,{class:"text-body-2"},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(e.user?.name||"Ð‘ÐµÐ· Ð¸Ð¼ÐµÐ½Ð¸"),1)]),_:2},1024)]),_:2},1024))),128)),e.assignments&&0!==e.assignments.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(k,{key:0},{default:(0,s.k6)(()=>[(0,s.bF)(o,{class:"text-grey"},{default:(0,s.k6)(()=>[...a[5]||(a[5]=[(0,s.eW)("ÐÐ¸ÐºÑ‚Ð¾ Ð½Ðµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½",-1)])]),_:1})]),_:1}))]),_:2},1024)]),_:2},1024)]),"item.status":(0,s.k6)(({item:e})=>[(0,s.bF)(V,{color:w(e?.status),variant:"flat"},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(E(e?.status)),1)]),_:2},1032,["color"])]),"item.actions":(0,s.k6)(({item:e})=>[(0,s.Lk)("div",T,[(0,s.bF)(n,{color:"primary",size:"small",onClick:t=>p(e)},{default:(0,s.k6)(()=>[...a[6]||(a[6]=[(0,s.eW)(" ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ",-1)])]),_:1},8,["onClick"]),(0,s.bF)(n,{color:"red",size:"small",onClick:t=>y(e.id),loading:u.value.includes(e.id)},{default:(0,s.k6)(()=>[...a[7]||(a[7]=[(0,s.eW)(" Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ",-1)])]),_:1},8,["onClick","loading"])])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),(0,s.bF)(z,{modelValue:i.value,"onUpdate:modelValue":a[4]||(a[4]=e=>i.value=e),"max-width":"600px"},{default:(0,s.k6)(()=>[d.value?((0,s.uX)(),(0,s.Wv)(x,{key:0},{default:(0,s.k6)(()=>[(0,s.bF)(j,null,{default:(0,s.k6)(()=>[...a[8]||(a[8]=[(0,s.eW)("Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ",-1)])]),_:1}),(0,s.bF)(K,null,{default:(0,s.k6)(()=>[(0,s.bF)(O,{modelValue:d.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value.title=e),label:"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ",required:"",class:"mb-3"},null,8,["modelValue"]),(0,s.bF)(A,{modelValue:d.value.description,"onUpdate:modelValue":a[1]||(a[1]=e=>d.value.description=e),label:"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ",required:"",rows:"3",class:"mb-4"},null,8,["modelValue"]),(0,s.bF)(U,{modelValue:d.value.status,"onUpdate:modelValue":a[2]||(a[2]=e=>d.value.status=e),items:t,"item-title":"label","item-value":"value",label:"Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð·Ð°Ð´Ð°Ñ‡Ð¸",class:"mb-4"},null,8,["modelValue"]),(0,s.bF)(U,{modelValue:d.value.workerIds,"onUpdate:modelValue":a[3]||(a[3]=e=>d.value.workerIds=e),items:r.value,"item-title":"name","item-value":"id",label:"ÐÐ°Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹",multiple:"",chips:"","closable-chips":"",loading:v.value,class:"mb-3"},{selection:(0,s.k6)(({item:e,index:t})=>[t<3?((0,s.uX)(),(0,s.Wv)(V,{key:0,size:"small",closable:"",color:"primary",variant:"tonal","onClick:close":t=>b(e.raw.id)},{default:(0,s.k6)(()=>[(0,s.bF)(I,{start:""},{default:(0,s.k6)(()=>[...a[9]||(a[9]=[(0,s.eW)("mdi-account",-1)])]),_:1}),(0,s.eW)(" "+(0,m.v_)(e.title),1)]),_:2},1032,["onClick:close"])):(0,s.Q3)("",!0),3===t?((0,s.uX)(),(0,s.CE)("span",C," (+"+(0,m.v_)(d.value.workerIds.length-3)+" Ð´Ñ€ÑƒÐ³Ð¸Ñ…) ",1)):(0,s.Q3)("",!0)]),item:(0,s.k6)(({props:e,item:t})=>[(0,s.bF)(k,(0,s.v6)(e,{title:t.title}),{prepend:(0,s.k6)(()=>[(0,s.bF)(X,{size:"32",color:F(t.raw.role)},{default:(0,s.k6)(()=>[(0,s.bF)(I,null,{default:(0,s.k6)(()=>[...a[10]||(a[10]=[(0,s.eW)("mdi-account",-1)])]),_:1})]),_:1},8,["color"])]),append:(0,s.k6)(()=>[(0,s.bF)(V,{size:"x-small",color:F(t.raw.role)},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(t.raw.role),1)]),_:2},1032,["color"]),d.value.workerIds.includes(t.value)?((0,s.uX)(),(0,s.Wv)(I,{key:0,color:"success",class:"ml-2"},{default:(0,s.k6)(()=>[...a[11]||(a[11]=[(0,s.eW)(" mdi-check ",-1)])]),_:1})):(0,s.Q3)("",!0)]),_:2},1040,["title"])]),"no-data":(0,s.k6)(()=>[(0,s.bF)(k,null,{default:(0,s.k6)(()=>[(0,s.bF)(o,null,{default:(0,s.k6)(()=>[...a[12]||(a[12]=[(0,s.eW)("ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","items","loading"]),0===d.value.workerIds.length?((0,s.uX)(),(0,s.Wv)(q,{key:0,type:"warning",variant:"tonal",class:"mb-3"},{default:(0,s.k6)(()=>[...a[13]||(a[13]=[(0,s.eW)(" Ð—Ð°Ð´Ð°Ñ‡Ð° Ð½Ðµ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð° Ð½Ð¸ Ð¾Ð´Ð½Ð¾Ð¼Ñƒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ ",-1)])]),_:1})):(0,s.Q3)("",!0)]),_:1}),(0,s.bF)(L,null,{default:(0,s.k6)(()=>[(0,s.bF)(P),(0,s.bF)(n,{variant:"text",onClick:g},{default:(0,s.k6)(()=>[...a[14]||(a[14]=[(0,s.eW)(" ÐžÑ‚Ð¼ÐµÐ½Ð° ",-1)])]),_:1}),(0,s.bF)(n,{color:"success",onClick:_,loading:c.value,disabled:!d.value.title||!d.value.description},{default:(0,s.k6)(()=>[...a[15]||(a[15]=[(0,s.eW)(" Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})):(0,s.Q3)("",!0)]),_:1},8,["modelValue"])]),_:1})}}};const j=$;var O=j,A={__name:"TaskManager",setup(e){const t=(0,n.KR)([]),a=(0,n.KR)(null),l=[{label:"ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚",value:"pending"},{label:"Ð’ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ",value:"in_progress"},{label:"Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾",value:"completed"},{label:"Ð’ÑÐµ",value:null}];async function o(){try{const e={};a.value&&(e.status=a.value);const l=await W.getAll(e),s=await l.json();t.value=s.data.tasks,console.log(s.data.tasks)}catch(e){console.error("Error fetching tasks:",e)}}return(0,s.sV)(o),(0,s.wB)(a,()=>{o()}),(e,n)=>{const r=(0,s.g2)("v-select"),u=(0,s.g2)("v-container");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(u,{md:"5"},{default:(0,s.k6)(()=>[(0,s.bF)(r,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),items:l,"item-title":"label","item-value":"value",label:"Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ",class:"mb-1",chips:"","closable-chips":""},null,8,["modelValue"])]),_:1}),(0,s.bF)(R,{getTasks:o}),(0,s.bF)(O,{getTasks:o,tasks:t.value},null,8,["tasks"])],64)}}};const U=A;var I=U,X={__name:"UserList",props:{users:Array,getUsers:Function},setup(e){const t=e,a=(0,n.lW)(t,"users"),l=t.getUsers,o=(0,n.KR)([]),r=[{title:"Ð˜Ð¼Ñ",key:"name"},{title:"ÐŸÐ¾Ñ‡Ñ‚Ð°",key:"email"},{title:"Ð Ð¾Ð»ÑŒ",key:"role"},{title:"ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹",key:"isActive"},{title:"Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ",key:"actions",sortable:!1}];async function u(e){try{o.value.push(e);const t=await S.delete(e);t.ok&&(await l(),a.value=a.value.filter(t=>t.id!==e))}finally{o.value=o.value.filter(t=>t!==e)}}return(e,t)=>{const l=(0,s.g2)("v-chip"),n=(0,s.g2)("v-btn"),i=(0,s.g2)("v-data-table"),c=(0,s.g2)("v-card"),d=(0,s.g2)("v-col"),v=(0,s.g2)("v-row"),k=(0,s.g2)("v-container");return(0,s.uX)(),(0,s.Wv)(k,null,{default:(0,s.k6)(()=>[(0,s.bF)(v,{justify:"center"},{default:(0,s.k6)(()=>[(0,s.bF)(d,{cols:"12",md:"8"},{default:(0,s.k6)(()=>[(0,s.bF)(c,null,{default:(0,s.k6)(()=>[(0,s.bF)(i,{headers:r,items:a.value,"item-key":"id",class:"elevation-1"},{"item.title":(0,s.k6)(({item:e})=>[(0,s.eW)((0,m.v_)(e.name),1)]),"item.description":(0,s.k6)(({item:e})=>[(0,s.eW)((0,m.v_)(e.description),1)]),"item.status":(0,s.k6)(({item:e})=>[(0,s.bF)(l,{color:"completed"===e?.status?"green":"orange",variant:"flat"},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(e?.status),1)]),_:2},1032,["color"])]),"item.actions":(0,s.k6)(({item:e})=>[(0,s.bF)(n,{color:"red",size:"small",onClick:t=>u(e.id),loading:o.value.includes(e.id)},{default:(0,s.k6)(()=>[...t[0]||(t[0]=[(0,s.eW)(" Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ",-1)])]),_:1},8,["onClick","loading"])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})}}};const q=X;var K=q,P={__name:"UserManager",setup(e){const t=(0,n.KR)([]);async function a(){try{const e=await S.getAll(),a=await e.json();console.log(a.data.users),t.value=a.data.users}catch(e){console.error("Error fetching tasks:",e)}}return(0,s.sV)(a),(e,l)=>((0,s.uX)(),(0,s.Wv)(K,{getUsers:a,users:t.value},null,8,["users"]))}};const L=P;var z=L,M={__name:"LoginPage",setup(e){const t=F(),a=(0,o.rd)(),r=(0,n.KR)(""),u=(0,n.KR)(""),i=(0,n.KR)(""),c=(0,n.KR)(!1),d=async()=>{i.value="",c.value=!0;try{await t.login({email:r.value,password:u.value}),a.push("/tasks")}catch(e){i.value=e.message}finally{c.value=!1}};return(e,t)=>{const a=(0,s.g2)("v-card-title"),n=(0,s.g2)("v-text-field"),o=(0,s.g2)("v-alert"),v=(0,s.g2)("v-btn"),k=(0,s.g2)("v-form"),f=(0,s.g2)("v-card-text"),p=(0,s.g2)("v-card"),g=(0,s.g2)("v-container");return(0,s.uX)(),(0,s.Wv)(g,{class:"d-flex justify-center align-center fill-height"},{default:(0,s.k6)(()=>[(0,s.bF)(p,{class:"pa-6",width:"400"},{default:(0,s.k6)(()=>[(0,s.bF)(a,{class:"text-h6"},{default:(0,s.k6)(()=>[...t[2]||(t[2]=[(0,s.eW)("Login",-1)])]),_:1}),(0,s.bF)(f,null,{default:(0,s.k6)(()=>[(0,s.bF)(k,{onSubmit:(0,l.D$)(d,["prevent"]),ref:"form"},{default:(0,s.k6)(()=>[(0,s.bF)(n,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),label:"Email",type:"email","prepend-icon":"mdi-email",required:""},null,8,["modelValue"]),(0,s.bF)(n,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),label:"Password",type:"password","prepend-icon":"mdi-lock",required:""},null,8,["modelValue"]),i.value?((0,s.uX)(),(0,s.Wv)(o,{key:0,type:"error",class:"mb-4",dense:""},{default:(0,s.k6)(()=>[(0,s.eW)((0,m.v_)(i.value),1)]),_:1})):(0,s.Q3)("",!0),(0,s.bF)(v,{type:"submit",color:"primary",block:"",loading:c.value},{default:(0,s.k6)(()=>[...t[3]||(t[3]=[(0,s.eW)(" Ð’Ð¾Ð¹Ñ‚Ð¸ ",-1)])]),_:1},8,["loading"])]),_:1},512)]),_:1})]),_:1})]),_:1})}}};const Q=M;var D=Q;const J=[{path:"/tasks",name:"tasks",component:I},{path:"/users",name:"users",component:z},{path:"/",name:"dashboard",component:g},{path:"/login",name:"login",component:D,meta:{hideHeader:!0}}],N=(0,o.aE)({history:(0,o.LA)(),routes:J});N.beforeEach((e,t,a)=>{const l=F(),s=e.meta.roles;if(s&&!s.includes(l.role))return a("/");a()});var B=N,H=(a(5524),a(5753)),G=a(2801),Y=a(3425);const Z=(0,H.$N)({components:G,directives:Y});(0,l.Ef)(k).use((0,_.Ey)()).use(B).use(Z).mount("#app")}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,n){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],s=e[c][1],n=e[c][2];for(var r=!0,u=0;u<l.length;u++)(!1&n||o>=n)&&Object.keys(a.O).every(function(e){return a.O[e](l[u])})?l.splice(u--,1):(r=!1,n<o&&(o=n));if(r){e.splice(c--,1);var i=s();void 0!==i&&(t=i)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[l,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,n,o=l[0],r=l[1],u=l[2],i=0;if(o.some(function(t){return 0!==e[t]})){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(u)var c=u(a)}for(t&&t(l);i<o.length;i++)n=o[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],function(){return a(1145)});l=a.O(l)})();
//# sourceMappingURL=app.4179c775.js.map